{% if adv is not defined %}{% set adv = None %}{% endif %}
{% set editing = (adv is not none) %}
<form id="form-advogado" 
      hx-post="{{ '/escritorio/ui/advogados/' + adv.oab + '/update' if editing else '/escritorio/ui/advogados/novo' }}" 
      hx-target="#lista-advogados" 
      hx-swap="outerHTML">
  <div class="row g-2">
    <div class="col-md-4">
  <input name="oab" class="form-control form-control-sm" placeholder="OAB" value="{{ adv.oab if editing else '' }}" required>
    </div>
    <div class="col-md-8">
  <input name="nome" class="form-control form-control-sm" placeholder="Nome" value="{{ adv.nome if editing else '' }}" required>
    </div>
    <div class="col-md-6">
  <input name="email" type="email" class="form-control form-control-sm" placeholder="Email" value="{{ adv.email if editing else '' }}">
    </div>
    <div class="col-md-6">
  <input name="area_atuacao" class="form-control form-control-sm" placeholder="Área de Atuação" value="{{ adv.area_atuacao if editing else '' }}">
    </div>
  </div>
  {% if editing %}
    <div class="form-text small mt-1">Editando advogado. Alterar a OAB atualizará a chave principal.</div>
  {% endif %}
  <div class="mt-2 d-flex justify-content-between">
    <div>
      {% if editing %}
  <button type="button" class="btn btn-sm btn-secondary" 
    hx-get="/escritorio/ui/advogados/novo/form" 
                hx-target="#advogado-form-wrapper" 
                hx-swap="innerHTML">Cancelar edição</button>
      {% endif %}
    </div>
    <div>
      <button class="btn btn-sm btn-primary" type="submit">{{ 'Atualizar' if editing else 'Salvar Advogado' }}</button>
    </div>
  </div>
</form>
